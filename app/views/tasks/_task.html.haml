- skip_children ||= false
%li{class: "task task--#{task.status} #{task.children.any? ? 'task--group' : 'task--single'}"}
  - if !task.children.any?
    - if task.excluded?
      = task.name
    - else 
      = render 'tasks/task_checkbox', task: task
      = link_to task.name, project_task_path(task.project, task)
  - else
    = task.name
    - if !skip_children
      %ul
        - task.children.each do |sub_task|
          = render sub_task
    
